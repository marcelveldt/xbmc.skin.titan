<?xml version="1.0" encoding="utf-8"?>
<!--Titan-->
<window id="0">
    <defaultcontrol always="true">300</defaultcontrol>
    <allowoverlay>yes</allowoverlay>
    <include>defaultskinsettings</include>
	<onload condition="Skin.HasSetting(AutoShowSubmenu)">SetProperty(submenuloading,loading,Home)</onload>
    <onload>Skin.Reset(youtube)</onload>
	<backgroundcolor>0</backgroundcolor>
	<onload>Control.SetFocus(300,2)</onload>
	<onload>300</onload>
    <controls>
        <!--Global Background-->
        <include>GlobalBackground</include>
        <!-- live gadget background -->
        <control type="image">
            <include>DimensionsFullscreen</include>
            <fadetime>1000</fadetime>
            <colordiffuse>FF666666</colordiffuse>
            <texture background="true">$INFO[Container(300).ListItem.Icon]</texture>
            <visible>Skin.String(CustomBackgroundSetting, gadget) + IsEmpty(Container(300).ListItem.Property(background)) + !Player.HasVideo</visible>
        </control>
		<control type="image">
            <include>DimensionsFullscreen</include>
            <fadetime>1000</fadetime>
            <colordiffuse>FF666666</colordiffuse>
            <texture background="true">$INFO[Container(300).ListItem.Property(background)]</texture>
            <visible>Skin.String(CustomBackgroundSetting, gadget) + !IsEmpty(Container(300).ListItem.Property(background)) + !Player.HasVideo</visible>
        </control>
		<control type="image">
            <include>DimensionsFullscreen</include>
            <fadetime>1000</fadetime>
            <colordiffuse>FF666666</colordiffuse>
            <texture background="true">$VAR[HomeMenuHubBackground]</texture>
            <visible>ControlGroup(77777).HasFocus</visible>
        </control>
        <!--NowPlaying-->
        <include condition="Skin.HasTheme(classic)">NowPlayingMusicClassic</include>
        <include condition="Skin.HasTheme(classic)">NowPlayingVideoClassic</include>
		<include condition="!Skin.HasTheme(classic)">NowPlayingModern</include>
		
		<!-- home menu hubs -->
		<include>HomeMenuHub</include>
		
		<!-- Header -->
        <include>Header</include>
		<!--Time & Weather-->
        <include>TimeInfo</include>
        <include>WeatherInfo</include>
		<include>ProfileInfo</include>
        <!--Footer-->
        <include condition="!skin.hassetting(nofooterbar)">Footer</include>
		
		<!--Home tiles List 300-->
        <control type="panel" id="300">
            <include>animation_home</include>
            <posx>38</posx>
            <width>1845</width>
            <include condition="Skin.String(GadgetRows, 1)">Gadget1Row</include>
            <include condition="!Skin.String(GadgetRows, 1)">Gadget2Row</include>

			<animation type="Conditional" condition="[Skin.HasSetting(ShowNextUppanel) + !Skin.HasSetting(AutoShowHubs)] | ControlGroup(77777).HasFocus">
                <effect type="slide" start="0,-0" end="0,800" time="800" tween="cubic" easing="inout" />
            </animation>

			<onup>$VAR[HomeButtonUpAction]</onup>
			<ondown>$VAR[HomeButtonDownAction]</ondown>

            <onleft></onleft>
            <onright></onright>
            <orientation>horizontal</orientation>
            <focusposition>-</focusposition>
            <scrolltime tween="cubic" easing="inout">500</scrolltime>
            <itemlayout width="612" height="265">
				<control type="group">
				<posy>20></posy>
					<control type="image">
						<!--Panel Shadow-->
						<posx>0</posx>
						<posy>0</posy>
						<width>623</width>
						<height>271</height>
						<texture>home/home_shadow.png</texture>
					</control>
					<control type="image">
						<!--Panel Normal-->
						<posx>11</posx>
						<posy>13</posy>
						<width>600</width>
						<height>250</height>
						<texture background="true" diffuse="home/home_matte2.png">$INFO[ListItem.Icon]</texture>
						<aspectratio scalediffuse="false" align="center" aligny="top">scale</aspectratio>
						<fadetime>800</fadetime>
						<include>backgroundfade</include>
					</control>
					<control type="image">
						<!--Panel Ovelay-->
						<posx>11</posx>
						<posy>13</posy>
						<width>600</width>
						<height>250</height>
						<colordiffuse>ccFFFFFF</colordiffuse>
						<texture diffuse="home/home_matte2.png">home/home_overlay.png</texture>
						<visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
					</control>
					<control type="label">
						<!--Label-->
						<include condition="!SubString(System.BuildVersion,14,left)">HomeTileLabelPosGotham</include>
						<include condition="SubString(System.BuildVersion,14,left)">HomeTileLabelPosHelix</include>
						<posy>170</posy>
						<width>600</width>
						<height>100</height>
						<align>center</align>
						<info>ListItem.Label</info>
						<font>Reg45</font>
						<textcolor>darkgrey</textcolor>
						<visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
					</control>
				</control>
            </itemlayout>
            <focusedlayout width="612" height="265">
                <control type="group">
					<posy>20></posy>
					
					<control type="image">
                        <!--widget Arrow UP-->
						<animation effect="fade" begin="0" end="100" delay="800" time="800" pulse="true">Focus</animation>
                        <posx>233</posx>
                        <posy>-16</posy>
                        <width>149</width>
                        <height>30</height>
                        <texture>basichome_up.png</texture>
						<visible>!IsEmpty(ListItem.Property(widgettype)) + [[Skin.String(GadgetRows, 2) + [StringCompare(Container(300).Position,0) | StringCompare(Container(300).Position,2) | StringCompare(Container(300).Position,4)]] | Skin.String(GadgetRows, 1)]</visible>
                    </control>
					<control type="image">
                        <!--widget Arrow DOWN-->
						<animation effect="fade" begin="0" end="100" delay="800" time="800" pulse="true">Focus</animation>
                        <posx>233</posx>
                        <posy>263</posy>
                        <width>149</width>
                        <height>30</height>
                        <texture>basichome_down.png</texture>
						<!-- show arrow down button if submenu available or widget at 2 rows of home tiles -->
						<visible>[!IsEmpty(ListItem.Property(submenu)) + !skin.hastheme(classic) + !Skin.String(GadgetRows, 2)] | [!IsEmpty(ListItem.Property(widgettype)) + Skin.String(GadgetRows, 2) + [StringCompare(Container(300).Position,1) | StringCompare(Container(300).Position,3) | StringCompare(Container(300).Position,5)]]</visible>
					</control>
					
                    <control type="image">
                        <!--Panel Shadow-->
                        <posx>0</posx>
                        <posy>0</posy>
                        <width>623</width>
                        <height>271</height>
                        <texture>home/home_shadow.png</texture>
                    </control>
					
                    <control type="image">
                        <!--Panel Normal-->
                        <posx>11</posx>
						<posy>13</posy>
						<width>600</width>
						<height>250</height>
                        <texture background="true" diffuse="home/home_matte2.png">$INFO[ListItem.Icon]</texture>
                        <aspectratio scalediffuse="false" align="center" aligny="top">scale</aspectratio>
                        <fadetime>800</fadetime>
                        <include>backgroundfade</include>
                    </control>
                    <control type="image">
                        <!--Panel Ovelay-->
                       <posx>11</posx>
						<posy>13</posy>
						<width>600</width>
						<height>250</height>
                        <colordiffuse>ccFFFFFF</colordiffuse>
                        <texture diffuse="home/home_matte2.png">home/home_overlay.png</texture>
                        <visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
                    </control>
                    <control type="label">
                        <!--Label Grey-->
                        <include condition="!SubString(System.BuildVersion,14,left)">HomeTileLabelPosGotham</include>
						<include condition="SubString(System.BuildVersion,14,left)">HomeTileLabelPosHelix</include>
                        <posy>170</posy>
                        <width>600</width>
                        <height>100</height>
                        <align>center</align>
                        <info>ListItem.Label</info>
                        <font>Reg45</font>
                        <textcolor>darkgrey</textcolor>
                        <visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
                    </control>
                    <control type="label">
                        <!--Label White-->
                        <include condition="!SubString(System.BuildVersion,14,left)">HomeTileLabelPosGotham</include>
						<include condition="SubString(System.BuildVersion,14,left)">HomeTileLabelPosHelix</include>
                        <posy>170</posy>
                        <width>600</width>
                        <height>100</height>
                        <align>center</align>
                        <info>ListItem.Label</info>
                        <font>Reg45</font>
                        <textcolor>white</textcolor>
                        <visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
                    </control>
                    <control type="image">
                        <posx>1</posx>
                        <posy>3</posy>
                        <width>622</width>
                        <height>271</height>
                        <texture>home/home_focus.png</texture>
                    </control>

                    <control type="button">
                        <left>150</left>
                        <top>0</top>
                        <width>1</width>
                        <height>60</height>
                        <font>Reg28</font>
                        <textcolor>blue</textcolor>
                        <align>center</align>
                        <aligny>center</aligny>
                        <label>-</label>
                        <visible>false</visible>
						<onfocus>SetProperty(submenupos,$INFO[Container(300).Position],Home)</onfocus>
						<onfocus>SetProperty(submenutype,$INFO[Container(300).ListItem.Property(submenu)],Home)</onfocus>
                        <onfocus condition="Skin.String(CustomBackgroundSetting, fanart)">SetProperty(MB3.Background.Collection, $INFO[Container(300).ListItem.Label], Home)</onfocus>
						<onfocus condition="Skin.HasSetting(AutoShowSubmenu) + skin.hastheme(classic)">XBMC.RunScript(script.titanskin.helpers,SHOWSUBMENU,SHOW,4444)</onfocus>
						<onfocus condition="Skin.HasSetting(AutoShowSubmenu) + !skin.hastheme(classic)">XBMC.RunScript(script.titanskin.helpers,SHOWSUBMENU,SHOW)</onfocus>
                    </control>
                </control>
            </focusedlayout>
            <content>
                <include>HomeMenu</include>
            </content>
        </control>
		

        <control type="button" id="2">
            <description>powerbutton</description>
            <posx>930</posx>
            <posy>900</posy>
            <width>60</width>
            <height>60</height>
            <onup>300</onup>
            <onright>300</onright>
            <onleft>300</onleft>
            <texturefocus colordiffuse="lightgrey">icons/icon_power.png</texturefocus>
            <texturenofocus>icons/icon_power.png</texturenofocus>
            <onclick>ActivateWindow(111)</onclick>
			<onfocus>ActivateWindow(111)</onfocus>
			<visible>!Control.IsVisible(445) + !ControlGroup(77777).HasFocus() + !Control.HasFocus(4444)</visible>
			<animation time="400" effect="fade">Visible</animation>
			<animation time="200" effect="fade">Hidden</animation>
        </control>
		
		<!-- submenu -->
		<include condition="Skin.HasTheme(classic)">HomeMenuSubMenuVertical</include>
		<include condition="!Skin.HasTheme(classic)">HomeMenuSubMenuHorizontal</include>
		
		<!-- splash screen -->
		<control type="group">
		<animation type="Hidden">
		<effect type="fade" start="100" end="0" time="2000" delay="200" />
		</animation>
		<visible>!IsEmpty(Window.Property(showsplash))</visible>
		<include>GlobalBackground</include>
		<control type="multiimage">
            <description>Busy animation</description>
			<posx>860</posx>
			<posy>450</posy>
			<width>200</width>
			<height>200</height>
			<imagepath>dialogs\extended_progress_bar</imagepath>
			<aspectratio>keep</aspectratio>
			<colordiffuse>ffFFFFFF</colordiffuse>
			<timeperimage>250</timeperimage>
        </control>
		<control type="label">
            <posx>0</posx>
            <posy>1015</posy>
            <width>1920</width>
            <align>center</align>
            <font>Bold55</font>
            <textcolor>white</textcolor>
            <label>Titan Mediabrowser v$INFO[System.AddonVersion(skin.titan)]</label>
            <include>animation_fade_visible_hidden</include>
            <include>animation_fade_open_close</include>
        </control>
		</control>
	

	</controls>
</window>