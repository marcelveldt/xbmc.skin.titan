<?xml version="1.0" encoding="utf-8"?>
<!--Titan-->
<window id="0">
    <defaultcontrol always="true">300</defaultcontrol>
    <allowoverlay>yes</allowoverlay>
    <include>defaultskinsettings</include>
    <onload>Skin.Reset(youtube)</onload>
	<onload>Control.SetFocus(300,2)</onload>
	<onload>300</onload>
    <controls>
        <!--Global Background-->
        <include>GlobalBackground</include>
        <!-- live gadget background -->
        <control type="image">
            <include>DimensionsFullscreen</include>
            <fadetime>1000</fadetime>
            <colordiffuse>FF666666</colordiffuse>
            <texture background="true">$INFO[Container(300).ListItem.Icon]</texture>
            <visible>Skin.String(CustomBackgroundSetting, gadget) + IsEmpty(Container(300).ListItem.Property(background)) + !Player.HasVideo</visible>
        </control>
		<control type="image">
            <include>DimensionsFullscreen</include>
            <fadetime>1000</fadetime>
            <colordiffuse>FF666666</colordiffuse>
            <texture background="true">$INFO[Container(300).ListItem.Property(background)]</texture>
            <visible>Skin.String(CustomBackgroundSetting, gadget) + !IsEmpty(Container(300).ListItem.Property(background)) + !Player.HasVideo</visible>
        </control>
        <!--NowPlaying-->
        <include condition="Skin.HasTheme(classic)">NowPlayingMusicClassic</include>
        <include condition="Skin.HasTheme(classic)">NowPlayingVideoClassic</include>
		<include condition="!Skin.HasTheme(classic)">NowPlayingModern</include>
		
		<!-- home menu hubs -->
		<include condition="Skin.HasSetting(UseHubsOnHomeScreen)">HomeMenuHub</include>
		
		<!-- Header -->
        <include>Header</include>
		<!--Time & Weather-->
        <include>TimeInfo</include>
        <include>WeatherInfo</include>
        <!--RSS-->
        <control type="group">
            <include>animation_home</include>
            <control type="image">
                <!--RSS Background-->
                <posx>50</posx>
                <posy>960</posy>
                <width>1820</width>
                <height>84</height>
                <texture>home/home_rss.png</texture>
                <visible>!Skin.HasSetting(NoFooterBar) + !Skin.HasSetting(ShowNextUppanel)</visible>
            </control>
        </control>
		
		<!--List 300-->
        <control type="panel" id="300">
            <include>animation_home</include>
            <posx>30</posx>
            <width>1860</width>
            <include condition="Skin.String(GadgetRows, 1)">Gadget1Row</include>
            <include condition="Skin.String(GadgetRows, 2)">Gadget2Row</include>
            <include condition="Skin.String(GadgetRows, 3)">Gadget3Row</include>
            <animation type="Conditional" condition="[Skin.HasSetting(ShowNextUppanel) + !Skin.HasSetting(UseHubsOnHomeScreen)] | [ControlGroup(77777).HasFocus + Skin.String(GadgetRows, 3)]">
                <effect type="slide" start="0,-0" end="0,650" time="800" tween="cubic" easing="inout" />
            </animation>
			<animation type="Conditional" condition="[Skin.HasSetting(ShowNextUppanel) + !Skin.HasSetting(UseHubsOnHomeScreen)] | [ControlGroup(77777).HasFocus + Skin.String(GadgetRows, 2)]">
                <effect type="slide" start="0,-0" end="0,800" time="800" tween="cubic" easing="inout" />
            </animation>

            <onup condition="!Skin.HasSetting(UseHubsOnHomeScreen) | IsEmpty(Container(300).ListItem.Property(contenttype))">Skin.SetBool(ShowNextUppanel)</onup>
			<onup condition="!Skin.HasSetting(UseHubsOnHomeScreen) | IsEmpty(Container(300).ListItem.Property(contenttype))">400</onup>

			<onup condition="Skin.HasSetting(UseHubsOnHomeScreen) + !IsEmpty(Container(300).ListItem.Property(contenttype))">510</onup>
			<ondown condition="Skin.HasSetting(UseHubsOnHomeScreen) + !IsEmpty(Container(300).ListItem.Property(contenttype)) + !Skin.String(GadgetRows, 1)">510</ondown>
			<ondown condition="![Skin.HasSetting(UseHubsOnHomeScreen) + !IsEmpty(Container(300).ListItem.Property(contenttype))] | Skin.String(GadgetRows, 1)">2</ondown>
            <onleft></onleft>
            <onright></onright>
            <orientation>horizontal</orientation>
            <focusposition>-</focusposition>
            <scrolltime tween="cubic" easing="inout">500</scrolltime>
            <itemlayout width="620" height="290">
				<control type="group">
				<posy>20></posy>
					<control type="image">
						<!--Panel Shadow-->
						<posx>0</posx>
						<posy>0</posy>
						<width>623</width>
						<height>271</height>
						<texture>home/home_shadow.png</texture>
					</control>
					<control type="image">
						<!--Panel Normal-->
						<posx>0</posx>
						<posy>0</posy>
						<width>623</width>
						<height>271</height>
						<texture background="true" diffuse="home/home_matte.png">$INFO[ListItem.Icon]</texture>
						<aspectratio scalediffuse="false" align="center" aligny="top">scale</aspectratio>
						<fadetime>800</fadetime>
						<include>backgroundfade</include>
					</control>
					<control type="image">
						<!--Panel Ovelay-->
						<posx>0</posx>
						<posy>0</posy>
						<width>623</width>
						<height>271</height>
						<colordiffuse>ccFFFFFF</colordiffuse>
						<texture diffuse="home/home_matte.png">home/home_overlay.png</texture>
						<visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
					</control>
					<control type="label">
						<!--Label-->
						<posx>315</posx>
						<posy>170</posy>
						<width>600</width>
						<height>100</height>
						<align>center</align>
						<info>ListItem.Label</info>
						<font>Reg45</font>
						<textcolor>darkgrey</textcolor>
						<visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
					</control>
				</control>
            </itemlayout>
            <focusedlayout width="620" height="290">
                <control type="group">
                    <animation type="Focus">
                        <effect type="zoom" start="100" end="105" time="300" center="auto" delay="0" tween="cubic" easing="inout" />
                    </animation>
                    <animation type="UnFocus">
                        <effect type="zoom" start="105" end="100" time="300" center="auto" delay="0" tween="cubic" easing="inout" />
                    </animation>
					<posy>20></posy>
					
					<control type="image">
                        <!--Submenu Arrow UP-->
						<animation effect="fade" begin="0" end="100" delay="800" time="800" pulse="true">Focus</animation>
                        <posx>282</posx>
                        <posy>-19</posy>
                        <width>60</width>
                        <height>36</height>
                        <texture>arrowup.png</texture>
						<visible>Skin.HasSetting(UseHubsOnHomeScreen) + !IsEmpty(ListItem.Property(contenttype)) + [[Skin.String(GadgetRows, 2) + [StringCompare(Container(300).Position,0) | StringCompare(Container(300).Position,2) | StringCompare(Container(300).Position,4)]] | Skin.String(GadgetRows, 1)]</visible>
                    </control>
					<control type="image">
                        <!--Submenu Arrow DOWN-->
						<animation effect="fade" begin="0" end="100" delay="800" time="800" pulse="true">Focus</animation>
                        <posx>282</posx>
                        <posy>255</posy>
                        <width>60</width>
                        <height>36</height>
                        <texture>arrowdown.png</texture>
						<visible>Skin.HasSetting(UseHubsOnHomeScreen) + !IsEmpty(ListItem.Property(contenttype)) + [Skin.String(GadgetRows, 2) + [StringCompare(Container(300).Position,1) | StringCompare(Container(300).Position,3) | StringCompare(Container(300).Position,5)]]</visible>
                    </control>
					
                    <control type="image">
                        <!--Panel Shadow-->
                        <posx>0</posx>
                        <posy>0</posy>
                        <width>623</width>
                        <height>271</height>
                        <texture>home/home_shadow.png</texture>
                    </control>
                    <control type="image">
                        <!--Panel Normal-->
                        <posx>0</posx>
                        <posy>0</posy>
                        <width>623</width>
                        <height>271</height>
                        <texture background="true" diffuse="home/home_matte.png">$INFO[ListItem.Icon]</texture>
                        <aspectratio scalediffuse="false" align="center" aligny="top">scale</aspectratio>
                        <fadetime>800</fadetime>
                        <include>backgroundfade</include>
                    </control>
                    <control type="image">
                        <!--Panel Ovelay-->
                        <posx>0</posx>
                        <posy>0</posy>
                        <width>623</width>
                        <height>271</height>
                        <colordiffuse>ccFFFFFF</colordiffuse>
                        <texture diffuse="home/home_matte.png">home/home_overlay.png</texture>
                        <visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
                    </control>
                    <control type="label">
                        <!--Label Grey-->
                        <posx>315</posx>
                        <posy>170</posy>
                        <width>600</width>
                        <height>100</height>
                        <align>center</align>
                        <info>ListItem.Label</info>
                        <font>Reg45</font>
                        <textcolor>darkgrey</textcolor>
                        <visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
                    </control>
                    <control type="label">
                        <!--Label White-->
                        <animation type="Focus">
                            <effect type="fade" start="0" end="100" time="300" center="auto" delay="0" tween="cubic" easing="inout" />
                        </animation>
                        <animation type="UnFocus">
                            <effect type="fade" start="100" end="0" time="300" center="auto" delay="0" tween="cubic" easing="inout" />
                        </animation>
                        <posx>315</posx>
                        <posy>170</posy>
                        <width>600</width>
                        <height>100</height>
                        <align>center</align>
                        <info>ListItem.Label</info>
                        <font>Reg45</font>
                        <textcolor>white</textcolor>
                        <visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
                    </control>
                    <control type="image">
                        <!--Panel Focus-->
                        <animation type="Focus">
                            <effect type="fade" start="0" end="100" time="300" center="auto" delay="0" tween="cubic" easing="inout" />
                        </animation>
                        <animation type="UnFocus">
                            <effect type="fade" start="100" end="0" time="300" center="auto" delay="0" tween="cubic" easing="inout" />
                        </animation>
                        <posx>1</posx>
                        <posy>1</posy>
                        <width>622</width>
                        <height>271</height>
                        <texture>home/home_focus.png</texture>
                    </control>

                    <control type="button">
                        <left>150</left>
                        <top>0</top>
                        <width>1</width>
                        <height>60</height>
                        <font>Reg28</font>
                        <textcolor>blue</textcolor>
                        <align>center</align>
                        <aligny>center</aligny>
                        <label>-</label>
                        <visible>false</visible>
                        <onfocus condition="Skin.String(CustomBackgroundSetting, fanart)">SetProperty(MB3.Background.Collection, $INFO[Container(300).ListItem.Label], Home)</onfocus>
                    </control>
                </control>
            </focusedlayout>
            <content>
                <include>HomeMenu</include>
            </content>
        </control>
        <control type="button" id="2">
            <description>powerbutton</description>
            <posx>935</posx>
            <posy>990</posy>
            <width>50</width>
            <height>50</height>
            <onup>300</onup>
            <onright>300</onright>
            <onleft>300</onleft>
            <visible>!ControlGroup(400).HasFocus() + ![Skin.HasSetting(UseHubsOnHomeScreen) + !IsEmpty(Container(300).ListItem.Property(contenttype)) + Skin.String(GadgetRows, 2) + [StringCompare(Container(300).Position,1) | StringCompare(Container(300).Position,3) | StringCompare(Container(300).Position,5)]]</visible>
            <texturefocus>icons/icon_power.png</texturefocus>
            <texturenofocus colordiffuse="black">icons/icon_power.png</texturenofocus>
            <onclick>ActivateWindow(111)</onclick>
			<animation effect="fade" begin="0" end="100" delay="800" time="800">Visible</animation>
        </control>
        <!-- nextup overlay -->
		<include condition="!Skin.HasSetting(UseHubsOnHomeScreen)">nextUpPanel</include>
	

	</controls>
</window>