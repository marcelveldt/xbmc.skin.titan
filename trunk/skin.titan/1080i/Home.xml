<?xml version="1.0" encoding="utf-8"?>
<!--Titan-->
<window id="0">
    <defaultcontrol always="true">300</defaultcontrol>
    <allowoverlay>yes</allowoverlay>
    <include>defaultskinsettings</include>
    <onload>Skin.Reset(youtube)</onload>
	<onload>Control.SetFocus(300,2)</onload>
	<onload>300</onload>
    <controls>
        <!--Global Background-->
        <include>GlobalBackground</include>
        <!-- live gadget background -->
        <control type="image">
            <include>DimensionsFullscreen</include>
            <fadetime>1000</fadetime>
            <colordiffuse>FF666666</colordiffuse>
            <texture background="true">$INFO[Container(300).ListItem.Icon]</texture>
            <visible>Skin.String(CustomBackgroundSetting, gadget) + IsEmpty(Container(300).ListItem.Property(background)) + !Player.HasVideo</visible>
        </control>
		<control type="image">
            <include>DimensionsFullscreen</include>
            <fadetime>1000</fadetime>
            <colordiffuse>FF666666</colordiffuse>
            <texture background="true">$INFO[Container(300).ListItem.Property(background)]</texture>
            <visible>Skin.String(CustomBackgroundSetting, gadget) + !IsEmpty(Container(300).ListItem.Property(background)) + !Player.HasVideo</visible>
        </control>
		<control type="image">
            <include>DimensionsFullscreen</include>
            <fadetime>1000</fadetime>
            <colordiffuse>FF666666</colordiffuse>
            <texture background="true">$VAR[HomeMenuHubBackground]</texture>
            <visible>ControlGroup(77777).HasFocus</visible>
        </control>
        <!--NowPlaying-->
        <include condition="Skin.HasTheme(classic)">NowPlayingMusicClassic</include>
        <include condition="Skin.HasTheme(classic)">NowPlayingVideoClassic</include>
		<include condition="!Skin.HasTheme(classic)">NowPlayingModern</include>
		
		<!-- home menu hubs -->
		<include condition="Skin.HasSetting(UseHubsOnHomeScreen)">HomeMenuHub</include>
		
		<!-- Header -->
        <include>Header</include>
		<!--Time & Weather-->
        <include>TimeInfo</include>
        <include>WeatherInfo</include>
        <!--Footer-->
        <include>RSSFooter</include>
		
		<!--debug label
		<control type="textbox">
			<posx>10</posx>
			<posy>90</posy>
			<width>1900</width>
			<height>270</height>
			<label>$INFO[Window(Home).Property(xbmb3c.std.music.3.content)]</label>
			<textcolor>bbwhite</textcolor>
			<align>left</align>
			<font>Light20</font>
			<autoscroll>true</autoscroll>
			<font>Light32</font>
		</control>-->
		
		<!--List 300-->
        <control type="panel" id="300">
            <include>animation_home</include>
            <posx>40</posx>
            <width>1845</width>
            <include condition="Skin.String(GadgetRows, 1)">Gadget1Row</include>
            <include condition="!Skin.String(GadgetRows, 1)">Gadget2Row</include>

			<animation type="Conditional" condition="[Skin.HasSetting(ShowNextUppanel) + !Skin.HasSetting(UseHubsOnHomeScreen)] | ControlGroup(77777).HasFocus">
                <effect type="slide" start="0,-0" end="0,800" time="800" tween="cubic" easing="inout" />
            </animation>

            <onup condition="!Skin.HasSetting(UseHubsOnHomeScreen) | IsEmpty(Container(300).ListItem.Property(widgettype))">Skin.SetBool(ShowNextUppanel)</onup>
			<onup condition="!Skin.HasSetting(UseHubsOnHomeScreen) | IsEmpty(Container(300).ListItem.Property(widgettype))">400</onup>

			<onup condition="Skin.HasSetting(UseHubsOnHomeScreen) + !IsEmpty(Container(300).ListItem.Property(widgettype))">510</onup>
			<ondown condition="Skin.HasSetting(UseHubsOnHomeScreen) + !IsEmpty(Container(300).ListItem.Property(widgettype)) + !Skin.String(GadgetRows, 1)">510</ondown>
			<ondown condition="![Skin.HasSetting(UseHubsOnHomeScreen) + !IsEmpty(Container(300).ListItem.Property(widgettype))] | Skin.String(GadgetRows, 1)">2</ondown>
            <onleft></onleft>
            <onright></onright>
            <orientation>horizontal</orientation>
            <focusposition>-</focusposition>
            <scrolltime tween="cubic" easing="inout">500</scrolltime>
            <itemlayout width="615" height="265">
				<control type="group">
				<posy>20></posy>
					<!-- <animation type="Conditional" condition="!IsEmpty(ListItem.Property(submenu)) +[Control.HasFocus(4445) | Control.HasFocus(4446) | Control.HasFocus(4447) | Control.HasFocus(4448) | Control.HasFocus(4449) | Control.HasFocus(4450) | Control.HasFocus(4451) | Control.HasFocus(4452)]">
                        <effect type="zoom" start="100" end="102" time="50" center="auto" delay="50" tween="cubic" easing="inout" />
                    </animation>
                    <animation type="Conditional" condition="IsEmpty(ListItem.Property(submenu)) | ![Control.HasFocus(4445) | Control.HasFocus(4446) | Control.HasFocus(4447) | Control.HasFocus(4448) | Control.HasFocus(4449) | Control.HasFocus(4450) | Control.HasFocus(4451) | Control.HasFocus(4452)]">
                        <effect type="zoom" start="102" end="100" time="50" center="auto" delay="50" tween="cubic" easing="inout" />
                    </animation> -->
					<control type="image">
						<!--Panel Shadow-->
						<posx>0</posx>
						<posy>0</posy>
						<width>623</width>
						<height>271</height>
						<texture>home/home_shadow.png</texture>
					</control>
					<control type="image">
						<!--Panel Normal-->
						<posx>0</posx>
						<posy>0</posy>
						<width>623</width>
						<height>271</height>
						<texture background="true" diffuse="home/home_matte.png">$INFO[ListItem.Icon]</texture>
						<aspectratio scalediffuse="false" align="center" aligny="top">scale</aspectratio>
						<fadetime>800</fadetime>
						<include>backgroundfade</include>
					</control>
					<control type="image">
						<!--Panel Ovelay-->
						<posx>0</posx>
						<posy>0</posy>
						<width>623</width>
						<height>271</height>
						<colordiffuse>ccFFFFFF</colordiffuse>
						<texture diffuse="home/home_matte.png">home/home_overlay.png</texture>
						<visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
					</control>
					<control type="label">
						<!--Label-->
						<posx>315</posx>
						<posy>170</posy>
						<width>600</width>
						<height>100</height>
						<align>center</align>
						<info>ListItem.Label</info>
						<font>Reg45</font>
						<textcolor>darkgrey</textcolor>
						<visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
					</control>
<!-- 					<control type="label">
                        <visible>!IsEmpty(ListItem.Property(submenu)) + [Control.HasFocus(4445) | Control.HasFocus(4446) | Control.HasFocus(4447) | Control.HasFocus(4448) | Control.HasFocus(4449) | Control.HasFocus(4450) | Control.HasFocus(4451) | Control.HasFocus(4452)]</visible>
                        <posx>315</posx>
                        <posy>170</posy>
                        <width>600</width>
                        <height>100</height>
                        <align>center</align>
                        <info>ListItem.Label</info>
                        <font>Reg45</font>
                        <textcolor>white</textcolor>
                        <visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
                    </control>
                    <control type="image">
						<visible>!IsEmpty(ListItem.Property(submenu)) + [Control.HasFocus(4445) | Control.HasFocus(4446) | Control.HasFocus(4447) | Control.HasFocus(4448) | Control.HasFocus(4449) | Control.HasFocus(4450) | Control.HasFocus(4451) | Control.HasFocus(4452)]</visible>
                        <posx>1</posx>
                        <posy>1</posy>
                        <width>622</width>
                        <height>271</height>
                        <texture>home/home_focus.png</texture>
                    </control> -->
				</control>
            </itemlayout>
            <focusedlayout width="615" height="265">
                <control type="group">
                    <animation type="Focus">
                        <effect type="zoom" start="100" end="102" time="50" center="auto" delay="0" tween="cubic" easing="inout" />
                    </animation>
                    <animation type="UnFocus">
                        <effect type="zoom" start="102" end="100" time="50" center="auto" delay="0" tween="cubic" easing="inout" />
                    </animation>
					<posy>20></posy>
					
					<control type="image">
                        <!--Submenu Arrow UP-->
						<animation effect="fade" begin="0" end="100" delay="800" time="800" pulse="true">Focus</animation>
                        <posx>282</posx>
                        <posy>-19</posy>
                        <width>60</width>
                        <height>36</height>
                        <texture>arrowup.png</texture>
						<visible>Skin.HasSetting(UseHubsOnHomeScreen) + !IsEmpty(ListItem.Property(widgettype)) + [[Skin.String(GadgetRows, 2) + [StringCompare(Container(300).Position,0) | StringCompare(Container(300).Position,2) | StringCompare(Container(300).Position,4)]] | Skin.String(GadgetRows, 1)]</visible>
                    </control>
					<control type="image">
                        <!--Submenu Arrow DOWN-->
						<animation effect="fade" begin="0" end="100" delay="800" time="800" pulse="true">Focus</animation>
                        <posx>282</posx>
                        <posy>255</posy>
                        <width>60</width>
                        <height>36</height>
                        <texture>arrowdown.png</texture>
						<visible>Skin.HasSetting(UseHubsOnHomeScreen) + !IsEmpty(ListItem.Property(widgettype)) + [Skin.String(GadgetRows, 2) + [StringCompare(Container(300).Position,1) | StringCompare(Container(300).Position,3) | StringCompare(Container(300).Position,5)]]</visible>
                    </control>
					
                    <control type="image">
                        <!--Panel Shadow-->
                        <posx>0</posx>
                        <posy>0</posy>
                        <width>623</width>
                        <height>271</height>
                        <texture>home/home_shadow.png</texture>
                    </control>
					
                    <control type="image">
                        <!--Panel Normal-->
                        <posx>0</posx>
                        <posy>0</posy>
                        <width>623</width>
                        <height>271</height>
                        <texture background="true" diffuse="home/home_matte.png">$INFO[ListItem.Icon]</texture>
                        <aspectratio scalediffuse="false" align="center" aligny="top">scale</aspectratio>
                        <fadetime>800</fadetime>
                        <include>backgroundfade</include>
                    </control>
                    <control type="image">
                        <!--Panel Ovelay-->
                        <posx>0</posx>
                        <posy>0</posy>
                        <width>623</width>
                        <height>271</height>
                        <colordiffuse>ccFFFFFF</colordiffuse>
                        <texture diffuse="home/home_matte.png">home/home_overlay.png</texture>
                        <visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
                    </control>
                    <control type="label">
                        <!--Label Grey-->
                        <posx>315</posx>
                        <posy>170</posy>
                        <width>600</width>
                        <height>100</height>
                        <align>center</align>
                        <info>ListItem.Label</info>
                        <font>Reg45</font>
                        <textcolor>darkgrey</textcolor>
                        <visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
                    </control>
                    <control type="label">
                        <!--Label White-->
                        <animation type="Focus">
                            <effect type="fade" start="0" end="100" time="300" center="auto" delay="0" tween="cubic" easing="inout" />
                        </animation>
                        <animation type="UnFocus">
                            <effect type="fade" start="100" end="0" time="300" center="auto" delay="0" tween="cubic" easing="inout" />
                        </animation>
                        <posx>315</posx>
                        <posy>170</posy>
                        <width>600</width>
                        <height>100</height>
                        <align>center</align>
                        <info>ListItem.Label</info>
                        <font>Reg45</font>
                        <textcolor>white</textcolor>
                        <visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
                    </control>
                    <control type="image">
                        <!--Panel Focus-->
                        <animation type="Focus">
                            <effect type="fade" start="0" end="100" time="300" center="auto" delay="0" tween="cubic" easing="inout" />
                        </animation>
                        <animation type="UnFocus">
                            <effect type="fade" start="100" end="0" time="300" center="auto" delay="0" tween="cubic" easing="inout" />
                        </animation>
                        <posx>1</posx>
                        <posy>1</posy>
                        <width>622</width>
                        <height>271</height>
                        <texture>home/home_focus.png</texture>
                    </control>

                    <control type="button">
                        <left>150</left>
                        <top>0</top>
                        <width>1</width>
                        <height>60</height>
                        <font>Reg28</font>
                        <textcolor>blue</textcolor>
                        <align>center</align>
                        <aligny>center</aligny>
                        <label>-</label>
                        <visible>false</visible>
                        <onfocus condition="Skin.String(CustomBackgroundSetting, fanart)">SetProperty(MB3.Background.Collection, $INFO[Container(300).ListItem.Label], Home)</onfocus>
						<onfocus>Skin.Reset(HomeMenuSubMenu)</onfocus>
                    </control>
                </control>
            </focusedlayout>
            <content>
                <include>HomeMenu</include>
            </content>
        </control>
		<!-- submenu buttons -->
		<include>HomeMenuSubMenu</include>
		
        <control type="button" id="2">
            <description>powerbutton</description>
            <posx>940</posx>
            <posy>900</posy>
            <width>60</width>
            <height>60</height>
            <onup>300</onup>
            <onright>300</onright>
            <onleft>300</onleft>
            <texturefocus colordiffuse="lightgrey">icons/icon_power.png</texturefocus>
            <texturenofocus>icons/icon_power.png</texturenofocus>
            <onclick>ActivateWindow(111)</onclick>
			<onfocus>ActivateWindow(111)</onfocus>
			<animation type="conditional" condition="!ControlGroup(400).HasFocus() + ![Skin.HasSetting(UseHubsOnHomeScreen) + !IsEmpty(Container(300).ListItem.Property(widgettype)) + Skin.String(GadgetRows, 2) + [StringCompare(Container(300).Position,1) | StringCompare(Container(300).Position,3) | StringCompare(Container(300).Position,5)]]" reversible="true">
            <effect type="fade" start="40" end="100" time="600" delay="200" />
			</animation>
        </control>
        <!-- nextup overlay -->
		<include condition="!Skin.HasSetting(UseHubsOnHomeScreen)">nextUpPanel</include>
	

	</controls>
</window>