<?xml version="1.0" encoding="utf-8"?>
<!--Titan-->
<window id="0">
    <defaultcontrol always="true">300</defaultcontrol>
    <allowoverlay>yes</allowoverlay>
    <include>defaultskinsettings</include>
	<onload>RunScript(script.skinshortcuts,type=buildxml&amp;mainmenuID=300&amp;levels=0)</onload>
	<onload condition="Skin.HasSetting(AutoShowSubmenu)">SetProperty(submenuloading,loading,Home)</onload>
	<onload condition="System.HasAddon(plugin.video.xbmb3c)">RunScript(plugin.video.xbmb3c,skin)</onload>
	<onunload>XBMC.RunScript(script.titanskin.helpers,SHOWSUBMENU,HIDE)</onunload>
	<onload>300</onload>
	<onload>AlarmClock(hidesplash,SetProperty(hidesplash,hide,Home),00:5,silent)</onload>
    <controls>
	
	<control type="group">
	<visible>SubString(Window(Home).Property(hidesplash),hide)</visible>
        <!--Global Background-->
        <include>GlobalBackground</include>

		<!-- home menu Widgets -->
		<include>HomeMenuWidget</include>
		


        <include>WeatherInfo</include>
		<include>ProfileInfo</include>

	
		<!-- Header -->
        <include>Header</include>
		<!--Time & Weather-->
        <include>TimeInfo</include>
		
		<!--NowPlaying-->
        <include condition="Skin.HasTheme(classic)">NowPlayingMusicClassic</include>
        <include condition="Skin.HasTheme(classic)">NowPlayingVideoClassic</include>
		<include condition="!Skin.HasTheme(classic)">NowPlayingModern</include>
		
		<!--Footer-->
        <include condition="!skin.hassetting(nofooterbar)">Footer</include>
		
		
		<!--Home tiles List 300-->
        <control type="panel" id="300">
            <include>animation_home</include>
            <posx>38</posx>
            <width>1845</width>
            <include condition="Skin.String(GadgetRows, 1)">Gadget1Row</include>
            <include condition="!Skin.String(GadgetRows, 1)">Gadget2Row</include>
			<animation type="Conditional" condition="ControlGroup(77777).HasFocus | !SubString(Window(Home).Property(BackGroundWorkersLoaded),loaded)">
                <effect type="slide" start="0,-0" end="0,800" time="800" tween="cubic" easing="inout" />
            </animation>
			<onunfocus condition="skin.hastheme(classic)">SetProperty(submenu,hide,Home)</onunfocus>
			<onup>$VAR[HomeButtonUpAction]</onup>
			<ondown>$VAR[HomeButtonDownAction]</ondown>
            <onleft></onleft>
            <onright></onright>
            <orientation>horizontal</orientation>
            <focusposition>-</focusposition>
            <scrolltime tween="cubic" easing="inout">500</scrolltime>
            <itemlayout width="612" height="265">
				<control type="group">
				<posy>20></posy>
					<control type="image">
						<!--Panel Shadow-->
						<posx>0</posx>
						<posy>0</posy>
						<width>623</width>
						<height>271</height>
						<texture>home/home_shadow.png</texture>
					</control>
					<control type="image">
						<!--Panel Normal-->
						<posx>11</posx>
						<posy>13</posy>
						<width>600</width>
						<height>250</height>
						<texture background="true" diffuse="home/home_matte2.png">$INFO[ListItem.Icon]</texture>
						<aspectratio scalediffuse="false" align="center" aligny="top">scale</aspectratio>
						<fadetime>800</fadetime>
						<include>backgroundfade</include>
					</control>
					<control type="image">
						<!--Panel Ovelay-->
						<posx>11</posx>
						<posy>13</posy>
						<width>600</width>
						<height>250</height>
						<colordiffuse>ccFFFFFF</colordiffuse>
						<texture diffuse="home/home_matte2.png">home/home_overlay.png</texture>
						<visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
					</control>
					<control type="label">
						<!--Label-->
						<include condition="!SubString(System.BuildVersion,14,left)">HomeTileLabelPosGotham</include>
						<include condition="SubString(System.BuildVersion,14,left)">HomeTileLabelPosHelix</include>
						<posy>170</posy>
						<width>600</width>
						<height>100</height>
						<align>center</align>
						<info>ListItem.Label</info>
						<font>Reg45</font>
						<textcolor>aawhite</textcolor>
						<shadowcolor>black</shadowcolor>
					</control>
				</control>
            </itemlayout>
            <focusedlayout width="612" height="265">
                <control type="group">
					<posy>20></posy>
					
					<control type="image">
                        <!--widget Arrow UP-->
						<animation effect="fade" start="0" end="100" delay="1200" time="800" pulse="false">Focus</animation>
                        <posx>233</posx>
                        <posy>-16</posy>
                        <width>149</width>
                        <height>30</height>
                        <texture>basichome_up.png</texture>
						<visible>!IsEmpty(ListItem.Property(widget)) + [[Skin.String(GadgetRows, 2) + [StringCompare(Container(300).Position,0) | StringCompare(Container(300).Position,2) | StringCompare(Container(300).Position,4)]] | Skin.String(GadgetRows, 1)]</visible>
                    </control>
					<control type="image">
                        <!--widget Arrow DOWN-->
						<animation effect="fade" start="0" end="100" delay="1200" time="800" pulse="false">Focus</animation>
                        <posx>236</posx>
                        <posy>263</posy>
                        <width>149</width>
                        <height>30</height>
                        <texture>basichome_down.png</texture>
						<!-- show arrow down button if submenu available or widget at 2 rows of home tiles -->
						<visible>[SubString(ListItem.Property(HasSubMenu), True) + Skin.String(GadgetRows, 1) + !skin.hastheme(classic)] | [!IsEmpty(ListItem.Property(widget)) + Skin.String(GadgetRows, 2) + [StringCompare(Container(300).Position,1) | StringCompare(Container(300).Position,3) | StringCompare(Container(300).Position,5)]]</visible>
					</control>
					
                    <control type="image">
                        <!--Panel Shadow-->
                        <posx>0</posx>
                        <posy>0</posy>
                        <width>623</width>
                        <height>271</height>
                        <texture>home/home_shadow.png</texture>
                    </control>
					
                    <control type="image">
                        <!--Panel Normal-->
                        <posx>11</posx>
						<posy>13</posy>
						<width>600</width>
						<height>250</height>
                        <texture background="true" diffuse="home/home_matte2.png">$INFO[ListItem.Icon]</texture>
                        <aspectratio scalediffuse="false" align="center" aligny="top">scale</aspectratio>
                        <fadetime>800</fadetime>
                        <include>backgroundfade</include>
                    </control>
                    <control type="image">
                        <!--Panel Ovelay-->
                       <posx>11</posx>
						<posy>13</posy>
						<width>600</width>
						<height>250</height>
                        <colordiffuse>ccFFFFFF</colordiffuse>
                        <texture diffuse="home/home_matte2.png">home/home_overlay.png</texture>
                        <visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
                    </control>
                    <control type="label">
                        <!--Label Grey-->
                        <include condition="!SubString(System.BuildVersion,14,left)">HomeTileLabelPosGotham</include>
						<include condition="SubString(System.BuildVersion,14,left)">HomeTileLabelPosHelix</include>
                        <posy>170</posy>
                        <width>600</width>
                        <height>100</height>
                        <align>center</align>
                        <info>ListItem.Label</info>
                        <font>Reg45</font>
                        <textcolor>$VAR[homeMenuFocusLabelColor]</textcolor>
						<shadowcolor>black</shadowcolor>
                        <visible>!Skin.HasSetting(NoTitleOnHomeMenuTiles)</visible>
                    </control>
                    <control type="image">
                        <posx>1</posx>
                        <posy>3</posy>
                        <width>622</width>
                        <height>271</height>
                        <texture>home/home_focus.png</texture>
                    </control>

                    <control type="button">
                        <left>150</left>
                        <top>0</top>
                        <width>1</width>
                        <height>60</height>
                        <font>Reg28</font>
                        <textcolor>blue</textcolor>
                        <align>center</align>
                        <aligny>center</aligny>
                        <label>-</label>
                        <visible>false</visible>
						<onfocus>SetProperty(submenu,hide,Home)</onfocus>
						<onfocus>Skin.SetString(customwidget, recent)</onfocus>
						<onfocus condition="Skin.HasSetting(UseSectionBackground) + !Player.HasMedia">Skin.SetString(SectionBackground,$VAR[varBackground])</onfocus>
						<onfocus condition="!Skin.HasSetting(UseSectionBackground)">Skin.Reset(SectionBackground)</onfocus>
						<onfocus>SetProperty(submenupos,$INFO[Container(300).Position],Home)</onfocus>
						<onfocus condition="SubString(Container(300).ListItem.Property(hasSubmenu), True)">SetProperty(submenutype,$INFO[Container(300).ListItem.Property(submenuVisibility)],Home)</onfocus>
						<onfocus condition="!SubString(Container(300).ListItem.Property(hasSubmenu), True)">ClearProperty(submenutype,Home)</onfocus>
                        <onfocus condition="SubString(Container(300).ListItem.Property(labelID),info-window-home-property-titanmb3)">SetProperty(MB3.Background.Collection, $INFO[Container(300).ListItem.Label], Home)</onfocus>
						<onfocus condition="Skin.HasSetting(AutoShowSubmenu) + skin.hastheme(classic)">XBMC.RunScript(script.titanskin.helpers,SHOWSUBMENU,SHOW,4444)</onfocus>
						<onfocus condition="Skin.HasSetting(AutoShowSubmenu) + !skin.hastheme(classic)">XBMC.RunScript(script.titanskin.helpers,SHOWSUBMENU,SHOW)</onfocus>
                    </control>
                </control>
            </focusedlayout>
            <content>
				<include>skinshortcuts-mainmenu</include>
            </content>
        </control>
		

        <control type="button" id="2">
            <description>powerbutton</description>
            <posx>930</posx>
            <posy>910</posy>
            <width>60</width>
            <height>60</height>
            <onup>300</onup>
            <onright>300</onright>
            <onleft>300</onleft>
            <texturefocus colordiffuse="lightgrey">icons/icon_power.png</texturefocus>
            <texturenofocus colordiffuse="$VAR[TextColor_white]">icons/icon_power.png</texturenofocus>
            <onclick>ActivateWindow(111)</onclick>
			<onfocus>ActivateWindow(111)</onfocus>
			<visible>!Control.IsVisible(445) + !ControlGroup(77777).HasFocus() + !Control.HasFocus(4444) + !Window.IsVisible(DialogButtonMenu.xml) + ![!IsEmpty(Container(300).ListItem.Property(widget)) + Skin.String(GadgetRows, 2) + StringCompare(Container(300).Position,3)]</visible>
			<animation time="400" effect="fade">Visible</animation>
			<animation time="200" effect="fade">Hidden</animation>
        </control>
		
		
	
		<!-- submenu -->
		<include condition="Skin.HasTheme(classic)">HomeMenuSubMenuVertical</include>
		<include condition="!Skin.HasTheme(classic)">HomeMenuSubMenuHorizontal</include>
	
	</control>	
		
	<!-- splash screen -->
	<control type="group" id="6666">
	<include>DimensionsFullscreen</include>
	<visible>!SubString(Window(Home).Property(hidesplash),hide)</visible>
	<animation time="1200" effect="fade" reversible="false">Hidden</animation>
	 <include>GlobalBackground</include>
		<!-- loginscreen background -->
        <control type="image">
            <include>DimensionsFullscreen</include>
			<include>backgroundfade</include>
            <texture background="true">$INFO[Skin.String(LoginBackground)]</texture>
            <fadetime>800</fadetime>
			<visible>System.HasLoginScreen + Skin.String(LoginBackground)</visible>
        </control>
		<include>Footer</include>
		
		<control type="label">
            <posx>80</posx>
            <posy>985</posy>
            <width>500</width>
            <align>left</align>
            <font>Reg41</font>
            <textcolor>white</textcolor>
            <label>20186</label>
            <include>animation_fade_visible_hidden</include>
            <include>animation_fade_open_close</include>
			<visible>System.HasAddon(skin.titan)</visible>
        </control>
		<control type="label">
            <posx>1840</posx>
            <posy>985</posy>
            <width>500</width>
            <align>right</align>
            <font>Reg41</font>
            <textcolor>white</textcolor>
            <label>Titan Mediabrowser v$INFO[System.AddonVersion(skin.titan)]</label>
            <include>animation_fade_visible_hidden</include>
            <include>animation_fade_open_close</include>
			<visible>System.HasAddon(skin.titan)</visible>
        </control>
		<control type="label">
            <posx>1840</posx>
            <posy>985</posy>
            <width>500</width>
            <align>right</align>
            <font>Reg41</font>
            <textcolor>white</textcolor>
            <label>Titan Mediabrowser v$INFO[System.AddonVersion(skin.titan.helix)]</label>
            <include>animation_fade_visible_hidden</include>
            <include>animation_fade_open_close</include>
			<visible>System.HasAddon(skin.titan.helix)</visible>
        </control>
	</control>
		
		
	</controls>
</window>